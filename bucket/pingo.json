{
    "##": "Why here? Waiting for PR to be merged to the Scoop official Main bucket.",
    "version": "1.25.4-90a91",
    "description": "Image optimizer for web",
    "homepage": "https://css-ig.net/pingo",
    "license": {
        "identifier": "Unknown",
        "url": "https://css-ig.net/submit/licenses"
    },
    "url": "https://css-ig.net/bin/pingo-win64.zip",
    "hash": "90a91aeaad6aff58cd669e6e1166a3c30e6207bc60cea40455e0c8337bfe6bfc",
    "bin": "pingo.exe",
    "checkver": {
        "script": [
            "<#",
            "   Create version with first 5ch of SHA256 checksum,",
            "   because the author have multiple times updated the ZIP file,",
            "   without incrementing the version number.",
            "#>",
            "# Get stated version from webpage",
            "$Html = Invoke-RestMethod -Method 'Get' -Uri 'https://css-ig.net/pingo'",
            "$Version = [string] [regex]::Matches($Html, 'v([\\d+.]+)')[0].'Value'.TrimStart('v')",
            "# Get SHA256 checksum",
            "$WebClient = [System.Net.WebClient]::new()",
            "$Sha256 = [string](",
            "    (Get-FileHash -InputStream ($WebClient.OpenRead('https://css-ig.net/bin/pingo-win64.zip')) -Algorithm 'SHA256').'Hash'.ToLower()",
            ")",
            "if ($null -ne $WebClient) {",
            "    $WebClient.Dispose()",
            "}",
            "# Output stated version with first 5 characters of the SHA256 checksum",
            "[string]::Format('{0}-{1}', $Version, $Sha256.Substring(0, 5))"
        ],
        "regex": "([\\d+.]+-[\\da-f]{5})"
    },
    "autoupdate": {
        "url": "https://css-ig.net/bin/pingo-win64.zip"
    }
}
